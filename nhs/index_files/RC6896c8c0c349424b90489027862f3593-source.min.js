// For license information, see `https://assets.adobedtm.com/f8560165ec6a/5d3b7fb65898/84296a99e4ec/RC6896c8c0c349424b90489027862f3593-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/f8560165ec6a/5d3b7fb65898/84296a99e4ec/RC6896c8c0c349424b90489027862f3593-source.min.js', "function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\\[\\]]/g,\"\\\\$&\");var a=new RegExp(\"[?&]\"+e+\"(=([^&#]*)|&|#|$)\").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\\+/g,\" \")):\"\":null}function getElmPosition(e,t){var a=e,r=t,l=(parseInt(Array.prototype.slice.call(r).indexOf(a))+1).toString(),n=\"0\";return l!=n?l:n}function getPositionFromRange(e){var t=10*Math.ceil(e/10),a=t-10;console.log(a),console.log(t);for(var r=[],l=a;l<=t;l++){var n=l;n<=t&&r.push(n)}return r}function getSearchLink(){window.elm=this;var e=\"\",t=\"\",a={};if(!/^[0-9]+/.test(elm.textContent.trim()))if(/\\/search\\//.test(window.location.pathname)||/\\/search(\\/?)\\?/.test(window.location.href)){if(t=document.querySelectorAll(\"#search-results li h2 a\"),a.name=elm.textContent.trim().replace(/\\s\\s+/g,\"\"),a.target=elm.title,a.service=\"\",a.location=digitalData.search.keyword,a.category=\"web: main search\",0<document.querySelectorAll(\".number-of-results\").length){if(getParameterByName(\"start_rank\")){var r=getPositionFromRange(parseFloat(getParameterByName(\"start_rank\")));if(0<r.length){var l=parseFloat(getElmPosition(elm,t));a.rank=r[l].toString()}}else a.rank=getElmPosition(elm,t);a.resultSelected=e.concat(\"K:\",window.digitalData.search.keyword,\"|\",\"C:\",a.name,\"|\",\"R:\",a.rank)}}else/service\\-search/.test(window.location.pathname)?(t=0<document.querySelectorAll(\"[axis=location] a\").length?document.querySelectorAll(\"[axis=location] a\"):0<document.querySelectorAll(\".consultants-list a\").length?document.querySelectorAll(\".consultants-list a\"):document.querySelectorAll(\"td[data-th=Organisation] a\").length?document.querySelectorAll(\"td[data-th=Organisation] a\"):[],a.name=elm.textContent.trim().replace(/\\s\\s+/g,\"\"),a.target=elm.href,a.category=\"web: service search\",a.service=0<document.querySelectorAll(\".findcompare-results h1\").length?document.querySelectorAll(\".findcompare-results h1\")[0].textContent.replace(/Results\\sfor\\s/,\"\").replace(/\\s.+/,\"\"):\"\",(_satellite.getVar(\"distance query\")||_satellite.getVar(\"Location.Name query\")||_satellite.getVar(\"LocationName query\"))&&/service\\-search/.test(window.location.pathname)&&(a.rank=getElmPosition(elm,t),a.resultSelected=e.concat(\"S:\",window.digitalData.search.service,\"|\",\"L:\",a.name,\"|\",\"R:\",a.rank))):/\\/searchapps/.test(window.location.pathname)&&(t=document.querySelectorAll(\".cardapp h3 a\"),elm=elm.className.match(/img/)?elm.parentElement.querySelectorAll(\"h3 a\")[0].parentElement.querySelectorAll(\"h3 a\")[0]:elm,a.name=elm.textContent.trim().replace(/\\s\\s+/g,\"\"),a.target=elm.href,a.rank=getElmPosition(elm,t),a.service=\"\",a.location=digitalData.search.keyword,a.category=\"web: apps library\",a.resultSelected=e.concat(\"K:\",window.digitalData.search.keyword,\"|\",\"C:\",a.name,\"|\",\"R:\",a.rank));(elm.tagName=!/\\#/.test(elm.href))&&(a.link={},a.link.name=-1==elm.textContent.trim().indexOf(\"#\")?elm.textContent.trim():\"\",a.link.url=elm.href,console.log(a)),a.clickSearch=!0,localStorage.removeItem(\"searchParams\"),localStorage.setItem(\"searchParams\",JSON.stringify(a))}if(\"undefined\"==typeof window.digitalData?window.digitalData={search:{keyword:\"\",results:\"\",section:/service\\-search/.test(window.location.pathname)&&!/performance\\//i.test(window.location.pathname)?\"web: service search\":/\\/search/.test(window.location.pathname)?\"web: main search\":\"\",link:{}},link:{}}:(window.digitalData=window.digitalData,window.digitalData.search={keyword:\"\",results:\"\",section:/service\\-search/.test(window.location.pathname)&&!/performance\\//i.test(window.location.pathname)?\"web: service search\":/\\/search/.test(window.location.pathname)?\"web: main search\":\"\",link:{}},window.digitalData.link={}),/\\/search\\//.test(window.location.pathname)||/\\/search(\\/?)\\?/.test(window.location.href))digitalData.search.keyword=getParameterByName(\"q\")?getParameterByName(\"q\"):getParameterByName(\"query\")?getParameterByName(\"query\"):\"\",digitalData.search.results=0<document.querySelectorAll(\".number-of-results\").length?document.querySelectorAll(\".number-of-results\")[0].textContent.replace(/[^0-9]+/g,\"\"):\"0\",(0<document.querySelectorAll(\"h2.aaw-search-header\").length&&-1<document.querySelectorAll(\"h2.aaw-search-header\")[0].textContent.indexOf(\"Sorry, no results were found for\")||0<document.querySelectorAll(\".no-results-wrap.pad\").length&&-1<document.querySelectorAll(\".no-results-wrap.pad\")[0].textContent.indexOf(\"Sorry, no results were found for\"))&&(digitalData.search.failedSearch=\"true\",digitalData.search.failedSearchReason=0<document.querySelectorAll(\"h2.aaw-search-header\").length?document.querySelectorAll(\"h2.aaw-search-header\")[0].textContent.replace(/\\s\\s/g,\"\"):0<document.querySelectorAll(\".no-results-wrap.pad h1\").length?document.querySelectorAll(\".no-results-wrap.pad h1\")[0].textContent.replace(/\\s\\s/g,\"\"):\"\");else if(/\\/service\\-search/.test(window.location.pathname))0<document.querySelectorAll(\".findcompare-results h1\").length?-1<document.querySelectorAll(\".findcompare-results h1\")[0].textContent.indexOf(\"Results for\")?(digitalData.search.service=$(\"#main-content > div > h1 > span:nth-child(1)\").text(),digitalData.search.results=0<document.querySelectorAll(\".fcresultsinfo li\").length?document.querySelectorAll(\".fcresultsinfo li\")[0].textContent.replace(/Showing \\d+\\-\\d+ of /,\"\").trim().replace(\" results\",\"\"):\"0\",digitalData.search.location=0<document.querySelectorAll(\"#locname\").length?document.querySelectorAll(\"#locname\")[0].textContent:\"\"):-1<document.querySelectorAll(\".findcompare-results h1\")[0].textContent.indexOf(\"Consultants named\")?(digitalData.search.consultant=0<document.querySelectorAll(\".findcompare-results h1\").length?document.querySelectorAll(\".findcompare-results h1\")[0].textContent.replace(\"Consultants named '\",\"\").replace(/\\'.+/,\"\"):\"\",digitalData.search.location=0<document.querySelectorAll(\".findcompare-results h1\").length&&1</.+near\\s(?=([a-zA-Z0-9]+))/.exec(document.querySelectorAll(\".findcompare-results h1\")[0].textContent).length?/.+near\\s(?=([a-zA-Z0-9]+))/.exec(document.querySelectorAll(\".findcompare-results h1\")[0].textContent)[1]:\"\",digitalData.search.speciality=0<document.querySelectorAll(\".findcompare-results h1\").length&&/.+services\\sin\\s(?=([a-zA-Z0-9\\s]+))/.exec(document.querySelectorAll(\".findcompare-results h1\")[0].textContent)&&1</.+services\\sin\\s(?=([a-zA-Z0-9\\s]+))/.exec(document.querySelectorAll(\".findcompare-results h1\")[0].textContent).length?/.+services\\sin\\s(?=([a-zA-Z0-9\\s]+))/.exec(document.querySelectorAll(\".findcompare-results h1\")[0].textContent)[1]:\"\",digitalData.search.results=0<document.querySelectorAll(\".findcompare-results h1\").length&&0<document.querySelectorAll(\".fcresultsinfo.clear li\").length?document.querySelectorAll(\".fcresultsinfo.clear li\")[0].textContent.replace(/.+of\\s/,\"\"):\"0\"):0<document.querySelectorAll(\"#locname\").length&&(digitalData.search.location=0<document.querySelectorAll(\"#locname\").length?document.querySelectorAll(\"#locname\")[0].textContent:\"\"):0<document.querySelectorAll(\".findcompare-search.mapview.urgent-care\").length?(digitalData.search.service=\"\",digitalData.search.section=\"web: service search\",digitalData.search.results=0<document.querySelectorAll(\".findcompare-search.mapview.urgent-care>p\").length?document.querySelectorAll(\".findcompare-search.mapview.urgent-care>p\")[0].textContent.replace(/Showing 1-\\d+ of /,\"\").replace(/ results/,\"\").trim():\"0\",digitalData.search.location=0<document.querySelectorAll(\".findcompare-search.mapview.urgent-care #top span\").length?document.querySelectorAll(\".findcompare-search.mapview.urgent-care #top span\")[0].textContent.trim():\"\"):0<document.querySelectorAll(\"#OrganisationNameSearchValue\").length&&(digitalData.search.service=0<document.querySelectorAll(\"#dropdownMenu1\").length?document.querySelectorAll(\"#dropdownMenu1\")[0].textContent.trim():\"\",digitalData.search.section=\"web: service search - mynhs\",digitalData.search.results=0<document.querySelectorAll(\".betaresultsinfo .number\").length?document.querySelectorAll(\".betaresultsinfo__current.text-underline\")[0].textContent.replace(/\\s\\s/g,\"\").replace(/Showing\\d+\\-\\d+of/,\"\").replace(\"results\",\"\").trim():\"0\",digitalData.search.location=0<document.querySelectorAll(\"#LocationName\").length?document.querySelectorAll(\"#LocationName\")[0].value:\"\"),(0<document.querySelectorAll(\"#validation-summary-errors\").length||0<document.querySelectorAll(\".row.no-results h2\").length&&-1<document.querySelectorAll(\".row.no-results h2\")[0].textContent.indexOf(\"No results found\"))&&(digitalData.search.service=0<document.querySelectorAll(\"#Service_Name\").length?document.querySelectorAll(\"#Service_Name\")[0].value:0<document.querySelectorAll(\"#dropdownMenu1\").length?document.querySelectorAll(\"#dropdownMenu1\")[0].textContent.trim():\"\",digitalData.search.location=0<document.querySelectorAll(\"#Location_Name\").length?document.querySelectorAll(\"#Location_Name\")[0].value:0<document.querySelectorAll(\"#LocationName\").length?document.querySelectorAll(\"#LocationName\")[0].value:\"\",digitalData.search.consultant=0<document.querySelectorAll(\"input.consultant-name\").length?document.querySelectorAll(\"input.consultant-name\")[0].value:0<document.querySelectorAll(\"#ConsultantName\").length?document.querySelectorAll(\"#ConsultantName\")[0].value:\"\",digitalData.search.speciality=0<document.querySelectorAll(\"#Specialty option[selected]\").length?document.querySelectorAll(\"#Specialty option[selected]\")[0].textContent:\"\",digitalData.search.failedSearch=\"true\",digitalData.search.failedSearchReason=0<document.querySelectorAll(\"#validation-summary-errors p\").length?document.querySelectorAll(\"#validation-summary-errors p\")[0].textContent.replace(/\\s\\s/g,\"\"):0<document.querySelectorAll(\".row.no-results h2\").length?document.querySelectorAll(\".row.no-results h2\")[0].textContent.replace(/\\s\\s/g,\"\"):\"\",digitalData.search.section=0<document.querySelectorAll(\".row.no-results h2\").length?\"web: service search - mynhs\":digitalData.search.section,digitalData.search.results=\"0\");else if(/\\/searchapps/.test(window.location.pathname))digitalData.search.keyword=getParameterByName(\"query\"),digitalData.search.results=document.querySelectorAll(\".cardapp\").length.toString(),digitalData.search.section=\"web: apps library\",0<document.querySelectorAll(\"h2.aaw-search-header\").length&&-1<document.querySelectorAll(\"h2.aaw-search-header\")[0].textContent.indexOf(\"Sorry, no results were found for\")&&(digitalData.search.failedSearch=\"true\",digitalData.search.failedSearchReason=0<document.querySelectorAll(\"h2.aaw-search-header\").length?document.querySelectorAll(\"h2.aaw-search-header\")[0].textContent.replace(/\\s\\s/g,\"\"):\"\");else if(/\\/find\\-a\\-pharmacy\\/results/.test(window.location.pathname)){var locationTxt=0<document.querySelectorAll(\".nhsuk-page-heading h1\").length?document.querySelectorAll(\".nhsuk-page-heading h1\")[0].textContent.replace(/Pharmacies near /,\"\"):\"\";digitalData.search.section=\"web: pharmacy finder\",\"\"!=locationTxt&&(digitalData.search.location=locationTxt)}if(localStorage.getItem(\"searchParams\")&&-1<localStorage.getItem(\"searchParams\").indexOf(\"clickSearch\")){var searchParamsObj=null!=localStorage.getItem(\"searchParams\")?JSON.parse(localStorage.getItem(\"searchParams\")):null;searchParamsObj&&searchParamsObj.link&&\"undefined\"!=typeof searchParamsObj.link.url&&-1==searchParamsObj.link.url.indexOf(\"#\")&&(window.digitalData.link.name=null!=searchParamsObj&&-1==searchParamsObj.link.url.indexOf(\"#\")?searchParamsObj.link.name:\"\",window.digitalData.link.url=null!=searchParamsObj?searchParamsObj.link.url:\"\",window.digitalData.search.link.target=null!=searchParamsObj&&\"\"!=searchParamsObj.target?searchParamsObj.target:window.location.href,window.digitalData.search.link.rank=null!=searchParamsObj?searchParamsObj.rank:\"\",window.digitalData.search.link.resultSelected=null!=searchParamsObj?searchParamsObj.resultSelected:\"\",localStorage.removeItem(\"searchParams\"))}for(var searchResultLinks=document.querySelectorAll(\"#search-results li a\"),i=0;i<searchResultLinks.length;i++){(currentSearchLink=searchResultLinks[i]).addEventListener(\"click\",getSearchLink)}var searchServiceResultLinks=document.querySelectorAll(\"[axis=location] a\");for(i=0;i<searchServiceResultLinks.length;i++){var currentSearchLink;(currentSearchLink=searchServiceResultLinks[i]).addEventListener(\"click\",getSearchLink)}var searchServiceAppResultLinks=document.querySelectorAll(\".cardapp a\");for(i=0;i<searchServiceAppResultLinks.length;i++){var currentSearchAppLink=searchServiceAppResultLinks[i];currentSearchAppLink.addEventListener(\"click\",getSearchLink)}var searchServiceConsultantsResultLinks=document.querySelectorAll(\".consultants-list a\");for(i=0;i<searchServiceConsultantsResultLinks.length;i++){var currentSearchConsultantLink=searchServiceConsultantsResultLinks[i];currentSearchConsultantLink.addEventListener(\"click\",getSearchLink)}var searchServiceMyAppsResultLinks=document.querySelectorAll(\"td[data-th=Organisation] a\");for(i=0;i<searchServiceMyAppsResultLinks.length;i++){var currentSearchServiceAppLink=searchServiceMyAppsResultLinks[i];currentSearchServiceAppLink.addEventListener(\"click\",getSearchLink)}var allLinks=document.querySelectorAll(\"a\");for(i=0;i<allLinks.length;i++){var currentAllLinks=allLinks[i];currentAllLinks.addEventListener(\"click\",getSearchLink)}");
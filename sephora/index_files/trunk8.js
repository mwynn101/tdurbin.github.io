(function(c){function p(a){this.$element=c(a);this.original_text=this.$element.html();this.settings=c.extend({},c.fn.trunk8.defaults)}function q(){var a=this.data("trunk8"),d=a.settings,b=d.width,r=d.side,g=d.fill,h=f.getLineHeight(this)*d.lines,a=a.original_text,l=a.length,k="",e,n,m;this.html(a);if(b===t.auto){if(!(this.height()<=h)){b=0;for(e=l-1;b<=e;)n=b+(e-b>>1),m=f.eatStr(a,r,l-n,g),this.html(m),this.height()>h?e=n-1:(b=n+1,k=k.length>m.length?k:m);this.html("");this.html(k);d.tooltip&&this.attr("title",
a)}}else isNaN(b)?c.error('Invalid width "'+b+'".'):(m=f.eatStr(a,r,l-b,g),this.html(m),d.tooltip&&this.attr("title",a))}var e,f,t={auto:"auto"};p.prototype.updateSettings=function(a){this.settings=c.extend(this.settings,a)};e={init:function(a){return this.each(function(){var d=c(this),b=d.data("trunk8");b||d.data("trunk8",b=new p(this));b.updateSettings(a);q.call(d)})},update:function(a){return this.each(function(){var d=c(this);a&&(d.data("trunk8").original_text=a);q.call(d)})},revert:function(){return this.each(function(){var a=
c(this).data("trunk8").original_text;c(this).html(a)})},getSettings:function(){return this.get(0).data("trunk8").settings}};f={eatStr:function(a,d,b,e){var g=a.length,h=f.eatStr.generateKey.apply(null,arguments),l,k;if(f.eatStr.cache[h])return f.eatStr.cache[h];"string"===typeof a&&0!==g||c.error('Invalid source string "'+a+'".');if(0>b||b>g)c.error('Invalid bite size "'+b+'".');else if(0===b)return a;"string"!==typeof(e+"")&&c.error("Fill unable to be converted to a string.");switch(d){case "right":return f.eatStr.cache[h]=
c.trim(a.substr(0,g-b))+e;case "left":return f.eatStr.cache[h]=e+c.trim(a.substr(b));case "center":return l=g>>1,k=b>>1,f.eatStr.cache[h]=c.trim(f.eatStr(a.substr(0,g-l),"right",b-k,""))+e+c.trim(f.eatStr(a.substr(g-l),"left",k,""));default:c.error('Invalid side "'+d+'".')}},getLineHeight:function(a){a=c(a);var d=a.css("float"),b=a.css("position"),f=a.html(),e;"none"!==d&&a.css("float","none");"absolute"===b&&a.css("position","static");a.html("i").wrap('\x3cdiv id\x3d"line-height-test" /\x3e');e=
c("#line-height-test").innerHeight();a.html(f).css({"float":d,position:b}).unwrap();return e}};f.eatStr.cache={};f.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")};c.fn.trunk8=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error("Method "+a+" does not exist on jQuery.trunk8");else return e.init.apply(this,arguments)};c.fn.trunk8.defaults={fill:"\x26hellip;",lines:1,side:"right",tooltip:!0,width:t.auto}})(jQuery);